@import './mixins-functions.scss';
@import './variables.scss';

/**
 * Set up locally served fonts
 */
 @import "./fonts.scss";

html {
    height: 100%;
    width: 100%;
    margin: 0;
    padding: 0;
    overflow: hidden;
    user-select: none;
}

body {
    height: 100%;
    width: 100%;
    margin: 0;
    padding: 0;
    font-size: 16px;
    font-family: "Roboto", Verdana, Geneva, "Helvetica Neue", Helvetica, Arial, sans-serif;
    -webkit-font-smoothing: antialiased;
    // -webkit-font-smoothing: subpixel-antialiased;
    -moz-osx-font-smoothing: grayscale;
    user-select: none;
}

pre, code, .monospace
{
    font-family: "RobotoMono", Consolas, "Courier New", Courier, monospace;
}

// margin and padding shortcuts in 0.5em increments
@each $x in (0,1,2,3,4,5,6,7,8) {
    .m-#{$x}  {margin:#{$x/2}em;}
    .ml-#{$x} {margin-left:#{$x/2}em;}
    .mr-#{$x} {margin-right:#{$x/2}em;}
    .mt-#{$x} {margin-top:#{$x/2}em;}
    .mb-#{$x} {margin-bottom:#{$x}em;}
    .mlr-#{$x}{margin:0 #{$x/2}em;}
    .mtb-#{$x}{margin:#{$x/2}em 0;}
    .p-#{$x}  {padding:#{$x/2}em;}
    .pl-#{$x} {padding-left:#{$x/2}em;}
    .pr-#{$x} {padding-right:#{$x/2}em;}
    .pt-#{$x} {padding-top:#{$x/2}em;}
    .pb-#{$x} {padding-bottom:#{$x/2}em;}
    .plr-#{$x}{padding:0 #{$x/2}em;}
    .ptb-#{$x}{padding:#{$x/2}em 0;}
}

// grid layout setup
$layoutcols:12;
.row
{
    width:100%;
    display:block;
    border:0px solid red;
}
@for $x from 1 through $layoutcols{
    .col-#{$x}{
        display:inline-block;
        width:(100%*($x/$layoutcols));
        text-align:left;
        border:0px solid green;
    }
    .offset-#{$x}{
        display:inline-block;
        margin-left:(100%*($x/$layoutcols));
    }
}

.tabs {
    margin: auto;
    min-height: 200px;
    width: 280px;

    .tabPanel {
        overflow-y: scroll;
    }
}

// transitions ------------------------------------------------------------------------------------
// Ref: https://vuejs.org/v2/guide/transitions.html#Transitioning-Single-Elements-Components
// Fast fade in/out - context menus etc
// <transition name="fade" mode="out-in"> ... </transition>
.fade-enter-active, .fade-leave-active{ @include transition($transition-duration-fast, [opacity]); }
.fade-enter, .fade-leave-to{opacity: 0;}

// Slower fade in/out - splash screens, modals, logins etc
// <transition name="fade-slow" mode="out-in"> ... </transition>
.fade-slow-enter-active, .fade-slow-leave-active{ @include transition($transition-duration-slow, [opacity]); }
.fade-slow-enter, .fade-slow-leave-to{opacity: 0;}

// desktop component styles -----------------------------------------------------------------------
// CSS variables - accessible in JavaScript viaâ€¦
//     getComputedStyle(document.documentElement).getPropertyValue('--my-variable-name');
:root {
    --my-variable-name: #999999;
}

.success
{
    color: $success-fg-color;
    background-color: $success-bg-color;
}
.info
{
    color: $info-fg-color;
    background-color: $info-bg-color;
}
.warning
{
    color: $warning-fg-color;
    background-color: $warning-bg-color;
}
.error
{
    color: $error-fg-color;
    background-color: $error-bg-color;
}

button
{
    cursor: pointer;

    border: none;
    outline: none;

    border-radius: 2px;

    background-color: $menu-bg-inactive;
    color: $menu-fg-inactive;

    @include box-shadow($drop-shadow-small);

    @include transition($transition-duration-medium, (background-color, color, box-shadow));

    padding: 0.666em 1.333em;
    &.small { padding: 0.4em 0.8em; }

    &[disabled]
    {
        background-color: $menu-bg-disabled;
        color: $menu-fg-disabled;
        cursor: not-allowed;
        box-shadow: none;
    }

    &:hover:enabled
    {
        background-color: $menu-bg-hover;
        color: $menu-fg-hover;
        @include box-shadow($drop-shadow-medium);
    }
    &:active:enabled, &.active:enabled
    {
        background-color: $menu-bg-active;
        color: $menu-fg-active;
        box-shadow: 0 0 8px rgba(0,0,0,0.5) inset;
        &:hover
        {
            background-color: $menu-bg-active-hover;
            color: $menu-fg-active-hover;
        }
    }
    &.selected:enabled
    {
        background-color: $white-light;
        color: $menu-bg-active;
        box-shadow: 0 0 4px rgba($black-light,0.5) inset, 0 0 8px rgba($menu-bg-active-hover,0.666);
        &:hover
        {
            background-color: $menu-bg-active-hover;
            color: $menu-fg-active-hover;
            box-shadow: 0 0 8px rgba(black,0.5) inset, 0 0 8px rgba($white-light,0.5);
        }
    }

}

input
{
    outline: none;

    border: 1px solid rgba($menu-bg-inactive,0.5);
    padding: 0.25em;
    border-radius: 2px;

    &:focus
    {
        @include box-shadow($drop-shadow-small, black, 0.2);
    }

    background-color: $text-bg-active;
    color: $text-fg-active;
}

.titan-desktop
{
    overflow: hidden;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background-color: $transparent-black;
}

.titan-desktop--task-bar
{
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    width: 100vw;
    height: 64px;

    background-color: rgba($menu-bg-inactive,0.9);
    backdrop-filter: $glass-blur;
    color: $menu-fg-inactive;
    @include box-shadow($drop-shadow-large);

    z-index: 1024;
    user-select: none;

    display: flex;
    flex-wrap: nowrap;
    justify-content: flex-start;
    align-items: center;

    .spacer
    {
        flex-grow: 1;
    }

    .start
    {
        margin-left: 24px;

        .startitan-button
        {
            display: flex;
            flex-wrap: nowrap;
            justify-content: flex-start;
            align-items: center;
            &:hover
            {
                cursor: pointer;
                color: $menu-fg-hover;
                text-shadow:0 0 10px rgba(255,255,255,0.25);
            }
        }

        .menu
        {
            background-color: rgba($menu-bg-inactive,0.9);

            z-index: 1025;

            position: absolute;
            bottom: 64px;
            left: 0px;

            padding: 0;
            margin: 0;

            @include box-shadow($drop-shadow-large);

            ul
            {
                margin: 0;
                padding :0;
                list-style: none;
                li
                {
                    cursor: pointer;

                    display: flex;
                    flex-wrap: nowrap;
                    justify-content: flex-start;
                    align-items: center;

                    margin: 0px;
                    padding: 6px 24px;

                    @include transition($transition-duration-fast, (background-color));

                    &:hover
                    {
                        color: $menu-fg-hover;
                        background-color: rgba($menu-bg-hover,0.9);
                    }
                }
            }
        }
    }
}

.titan-desktop--taskbar-window-tile
{
    width: 48px;
    height: 48px;
    font-size:40px;
    line-height:40px;

    margin: 0;
    padding: 0;

    display: flex;
    flex-wrap: nowrap;
    justify-content: center;
    align-items: center;

    color:#999;
    background-color: $bg-dark;
    border-radius:4px;
    margin-right:8px;

    cursor: pointer;

    @include transition($transition-duration-fast, (box-shadow, color, background-color));

    &:hover
    {
        color: $menu-fg-hover;
        background-color: $menu-bg-hover;
        @include box-shadow($drop-shadow-large);
    }
    &.active
    {
        color: $menu-fg-active;
        background-color: $menu-bg-active;
        &:hover
        {
            color: $menu-fg-active-hover;
            background-color: $menu-bg-active-hover;
        }
    }
}

.titan-desktop--window
{
    position: absolute;

    padding: 0;
    margin: 0;
    border: none;

    display: flex;
    flex-direction: column;
    flex-wrap: nowrap;
    justify-content: flex-start;
    align-content: stretch;

    @include transition($transition-duration-medium, (box-shadow, color, background-color));

    background-color: $transparent-black;
    border-radius: 0px;
    @include box-shadow($drop-shadow-medium);

    &.active
    {
        @include box-shadow($drop-shadow-large);
    }

    &.fullscreen
    {
        border-radius: 0;
        box-shadow: none;
    }

    .content
    {
        overflow: hidden;
    }
}

.titan-desktop--window-title-bar
{
    margin: 0;
    padding: 0;

    display: flex;
    flex-wrap: nowrap;
    justify-content: flex-start;
    align-items: center;

    @include transition($transition-duration-medium, (box-shadow, color, background-color));

    cursor: move;
    &.maximized, &.nodrag
    {
        cursor: default;
    }
    user-select: none;
    width: 100%;
    min-height: 32px;
    height: 32px;
    max-height: 32px;

    background-color: $menu-bg-inactive;
    color: $menu-fg-inactive;
    &.active
    {
        background-color: $menu-bg-active;
        color: $menu-fg-active;
    }

    .icon
    {
        width: 24px;
        height: 24px;
        font-size: 24px;
        line-height: 24px;
        margin: 2px;
    }

    .title
    {
        margin: 0 2px;
        flex-grow: 1;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    .control-btn
    {
        cursor: pointer;
    }
}

.titan-desktop--window-content
{
    height: 100%;
    overflow: scroll;
    padding: 8px;
    margin: 0px;
    margin-top: 0;

    @include transition($transition-duration-fast, (box-shadow, color, background-color));

    background-color: $window-bg-inactive;
    color: $window-fg-inactive;
    &.active
    {
        color: $window-fg-active;
        background-color: $window-bg-active;
    }
}

.titan--dropdown-toolbar
{
    position:absolute;

    display: flex;
    flex-direction: column;
    align-items: center;

    .trigger
    {
        cursor: pointer;
    }

    ul
    {
        display: flex;
        flex-wrap: nowrap;
        justify-content: flex-start;
        align-items: center;

        margin:0;
        padding:0;

        list-style: none;
        li
        {
            backdrop-filter: $glass-blur;

            width: 52px;
            height: 52px;
            font-size:40px;
            line-height:40px;

            margin: 0 4px;
            padding: 0;

            display: flex;
            flex-direction: column;
            flex-wrap: nowrap;
            justify-content: flex-start;
            align-items: center;

            color: $menu-fg-inactive;
            background-color: $menu-bg-inactive;
            border-radius:4px;

            @include transition($transition-duration-medium, (box-shadow));

            cursor: pointer;
            &:hover
            {
                color: $menu-bg-hover;
                background-color: $menu-fg-hover;
                @include box-shadow($drop-shadow-medium, $menu-bg-inactive, 0.4);
            }
            &.active
            {
                color: $menu-bg-active;
                background-color: $menu-fg-active;
                box-shadow: none;
                &:hover
                {
                    color: $menu-bg-active-hover;
                    background-color: $menu-fg-active-hover;
                    @include box-shadow($drop-shadow-medium, $menu-bg-inactive, 0.4);
                }
            }

            .label
            {
                font-size:25%;
                line-height:25%;
                margin-top:2px;
            }
        }
    }
}

.titan--context-menu
{
    z-index: 1024;

    border-radius: 2px;

    position: absolute;
    top:0;
    left:0;
    min-width: 10em;

    padding: 0;
    margin: 0;

    color: $menu-fg-inactive;
    background-color: rgba($menu-bg-inactive, 0.9);
    @include box-shadow($drop-shadow-medium);

    ul
    {
        margin:0;
        padding:0;
        list-style: none;
        li
        {
            @include transition($transition-duration-medium, (color, background-color));

            .spacer { flex-grow: 1; }
            hr { width: 100%; }

            margin:0px;
            padding: 4px 8px;

            display: flex;
            flex-wrap: nowrap;
            justify-content: flex-start;
            align-items: center;

            &.disabled
            {
                color: $menu-fg-disabled;
                background-color: $menu-bg-disabled;
            }
            &.separator
            {
                padding: 0px 4px;
            }
            &:not(.separator):not(.disabled)
            {
                &:hover
                {
                    cursor: pointer;
                    color: $menu-fg-hover;
                    background-color: $menu-bg-hover;
                }
            }
            &.disabled
            {
                &:hover
                {
                    cursor: not-allowed;
                }
            }
        }
    }
}
