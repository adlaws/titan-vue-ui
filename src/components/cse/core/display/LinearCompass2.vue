<!-- ------------------------------------------------------------------------------------------
A linear compass:

                                 0
                   SW   W   NW   N   NE   E   SE   S
                 ----------------^-------------------


@param {String} color the color of the compass ticks and cardinals (default is white)
@param {String} needle the color of the compass needle (default is red)
@param {Number} size the width of the linear compass in pixels (default is 450px)
@param {Number, String} x the preferred x position on the screen (offset from left of screen) or one of 'left','right' or 'center'
@param {Number, String} y the preferred y position on the screen (offset from top of screen) or one of 'top','bottom' or 'center'
@param {Number} updateInterval the update interval in milliseconds (obtains heading from current scenario camera)

Example use:

    <template>
        <linear-compass2 :needle="#08f" :update-interval="1000" inverted/>
    </template>
----------------------------------------------------------------------------------------------- -->
<template>
    <!-- NOTE: in the following SVG each degree is 5px wide, 0Â° is at x=225 -->
    <svg
        ref="container"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 450 40"
        :width="size"
    >
        <defs>
            <linearGradient
                id="a"
                x1="0"
                x2="450"
                y1="45"
                y2="45"
                gradientUnits="userSpaceOnUse"
            >
                <stop offset="0" :stop-color="color" stop-opacity="0" />
                <stop offset=".125" :stop-color="color" stop-opacity=".666" />
                <stop offset=".5" :stop-color="color" />
                <stop offset=".875" :stop-color="color" stop-opacity=".666" />
                <stop offset="1" :stop-color="color" stop-opacity="0" />
            </linearGradient>
            <clipPath id="b" clipPathUnits="userSpaceOnUse">
                <!--
                    this path defines the compass graticle. it's done as a clip path so we can have nice fading
                    transparency effect - we set a gradient on a rectangle and use this clip path on it. By
                    translating the clip path, we move the compass graticle.
                 -->
                <path
                    :transform="`translate(${clampedTweenedCompassRotation * -5},0)`"
                    d="M223 11h4v18h-4zM228.306 39.27h-1.807l-3.086-4.99v4.99h-1.719V32h2.242l2.65 4.165V32h1.72zM299 14h2v12h-2zM298.606 39.27h-3.936v-.742h1.514v-4.873h-1.514v-.664q.308 0 .66-.049.351-.053.532-.151.224-.122.351-.308.132-.19.152-.507h.757v6.552h1.484zm6.724-2.31q0 .509-.186.973-.185.463-.508.78-.351.343-.84.528-.483.18-1.123.18-.595 0-1.147-.126-.552-.122-.933-.298v-1.03h.069q.4.254.937.434.537.176 1.055.176.347 0 .669-.098.327-.097.58-.341.216-.21.323-.503.112-.293.112-.679 0-.376-.131-.635-.127-.259-.357-.415-.254-.185-.62-.259-.361-.078-.81-.078-.43 0-.83.059-.396.059-.684.117V32h4.375v.854h-3.433v1.934q.21-.02.43-.03.22-.009.38-.009.592 0 1.036.103.444.097.815.351.39.269.606.693.215.425.215 1.065zM249 16h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1zm5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m28-4h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m10 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m78-6h2v12h-2zm-50 2h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m28-4h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m10 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1M373.381 35.77q.235.21.386.527.151.317.151.82 0 .498-.18.913-.18.415-.508.723-.366.342-.864.508-.493.16-1.084.16-.606 0-1.192-.146-.586-.141-.962-.312v-1.02h.074q.415.273.976.453.562.181 1.084.181.308 0 .654-.102.347-.103.562-.303.225-.215.332-.474.112-.259.112-.654 0-.39-.127-.645-.122-.258-.341-.405-.22-.151-.533-.205-.312-.059-.673-.059h-.44v-.81h.342q.742 0 1.181-.308.445-.312.445-.908 0-.264-.112-.459-.113-.2-.313-.327-.21-.127-.45-.176-.238-.049-.541-.049-.464 0-.987.166-.522.166-.986.47h-.049v-1.021q.347-.171.923-.313.581-.146 1.123-.146.532 0 .938.097.405.098.732.313.352.234.532.566.181.332.181.777 0 .605-.43 1.06-.424.448-1.005.566v.068q.234.039.537.166.302.122.512.308zm6.997-.137q0 1.958-.615 2.876-.61.913-1.9.913-1.308 0-1.913-.928-.6-.928-.6-2.851 0-1.939.61-2.862.61-.927 1.904-.927 1.308 0 1.909.942.605.937.605 2.837zm-1.284 2.217q.171-.396.23-.928.063-.537.063-1.29 0-.741-.063-1.288-.059-.547-.235-.928-.17-.376-.468-.566-.293-.19-.757-.19-.46 0-.762.19-.298.19-.474.576-.166.361-.23.942-.058.581-.058 1.275 0 .761.054 1.274t.23.918q.16.38.454.581.297.2.786.2.459 0 .761-.19.303-.19.47-.576zM449 12h2v16h-2zm-50 4h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m28-4h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m10 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1M449.888 39.27h-1.807l-3.086-4.99v4.99h-1.719V32h2.242l2.651 4.165V32h1.719zm7.124 0h-5.26V32h5.26v1.406h-3.394v1.255h3.15v1.406h-3.15v1.797h3.394zM524 14h2v12h-2zM524.128 36.912q0 1.109-.732 1.812-.728.698-1.787.698-.537 0-.977-.166-.44-.166-.776-.493-.42-.406-.65-1.075-.224-.668-.224-1.61 0-.968.205-1.715.21-.747.664-1.328.43-.552 1.108-.86.68-.312 1.582-.312.289 0 .484.025.195.024.395.088v.932h-.048q-.137-.073-.415-.137-.274-.068-.562-.068-1.05 0-1.675.66-.625.654-.727 1.772.41-.25.805-.376.4-.132.923-.132.464 0 .816.088.356.083.727.342.43.297.645.752.22.454.22 1.103zm-.99.04q0-.455-.138-.753-.131-.298-.439-.517-.225-.157-.498-.205-.273-.05-.571-.05-.415 0-.772.098-.356.098-.732.303-.01.108-.015.21-.005.098-.005.25 0 .77.156 1.22.161.444.44.703.224.215.483.317.264.098.571.098.708 0 1.114-.43.405-.434.405-1.245zm7.24-1.319q0 1.958-.615 2.876-.61.913-1.9.913-1.308 0-1.913-.928-.6-.928-.6-2.851 0-1.939.61-2.862.61-.927 1.904-.927 1.308 0 1.909.942.605.937.605 2.837zm-1.284 2.217q.171-.396.23-.928.063-.537.063-1.29 0-.741-.063-1.288-.059-.547-.235-.928-.17-.376-.468-.566-.293-.19-.757-.19-.46 0-.762.19-.298.19-.474.576-.166.361-.23.942-.058.581-.058 1.275 0 .761.054 1.274t.23.918q.16.38.454.581.297.2.786.2.459 0 .761-.19.303-.19.47-.576zM474 16h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m28-4h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m10 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m78-6h2v12h-2zm-50 2h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m28-4h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m10 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1M599.04 33.089l-3.29 6.182h-1.045l3.5-6.417h-4.14V32h4.976zm6.29 3.871q0 .509-.186.973-.185.463-.508.78-.351.343-.84.528-.483.18-1.123.18-.595 0-1.147-.126-.552-.122-.933-.298v-1.03h.069q.4.254.937.434.537.176 1.055.176.347 0 .669-.098.327-.097.58-.341.216-.21.323-.503.112-.293.112-.679 0-.376-.131-.635-.127-.259-.357-.415-.254-.185-.62-.259-.361-.078-.81-.078-.43 0-.83.059-.396.059-.684.117V32h4.375v.854h-3.433v1.934q.21-.02.43-.03.22-.009.38-.009.592 0 1.036.103.444.097.815.351.39.269.606.693.215.425.215 1.065zM624 16h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m28-4h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m10 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1M677.773 39.27h-5.258V32h5.258v1.406h-3.393v1.255h3.15v1.406h-3.15v1.797h3.393zM673 11h4v18h-4zm76 3h2v12h-2zM745.422 39.27h-3.935v-.742H743v-4.873h-1.513v-.664q.307 0 .659-.049.352-.053.532-.151.225-.122.352-.308.132-.19.151-.507h.757v6.552h1.484zm6.773-3.637q0 1.958-.615 2.876-.61.913-1.9.913-1.308 0-1.914-.928-.6-.928-.6-2.851 0-1.939.61-2.862.61-.927 1.904-.927 1.309 0 1.91.942.605.937.605 2.837zm-1.284 2.217q.17-.396.23-.928.063-.537.063-1.29 0-.741-.064-1.288-.058-.547-.234-.928-.171-.376-.469-.566-.293-.19-.757-.19-.459 0-.762.19-.297.19-.473.576-.166.361-.23.942-.058.581-.058 1.275 0 .761.053 1.274.054.513.23.918.161.38.454.581.298.2.786.2.46 0 .762-.19.303-.19.469-.576zm7.602-.89q0 .509-.185.973-.186.463-.508.78-.352.343-.84.528-.483.18-1.123.18-.596 0-1.148-.126-.551-.122-.932-.298v-1.03h.068q.4.254.938.434.537.176 1.054.176.347 0 .67-.098.326-.097.58-.341.215-.21.323-.503.112-.293.112-.679 0-.376-.132-.635-.127-.259-.356-.415-.254-.185-.62-.259-.362-.078-.811-.078-.43 0-.83.059-.396.059-.684.117V32h4.375v.854h-3.432v1.934q.21-.02.43-.03.22-.009.38-.009.591 0 1.035.103.445.097.816.351.39.269.605.693.215.425.215 1.065zM699 16h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m28-4h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m10 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m78-6h2v12h-2zm-50 2h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m28-4h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m10 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1M820.422 39.27h-3.935v-.742H818v-4.873h-1.513v-.664q.307 0 .659-.049.352-.053.532-.151.225-.122.352-.308.132-.19.151-.507h.757v6.552h1.484zm6.783 0h-4.922v-1.02l1.025-.879q.518-.44.962-.874.938-.908 1.284-1.44.347-.537.347-1.158 0-.566-.376-.883-.371-.323-1.04-.323-.444 0-.962.157-.518.156-1.01.478h-.05v-1.025q.347-.171.923-.313.581-.141 1.123-.141 1.118 0 1.753.542.635.537.635 1.46 0 .415-.107.776-.103.356-.308.679-.19.302-.45.595-.253.293-.62.65-.522.512-1.078.996-.557.478-1.04.889h3.91zm6.357-3.637q0 1.958-.615 2.876-.61.913-1.9.913-1.308 0-1.914-.928-.6-.928-.6-2.851 0-1.939.61-2.862.61-.927 1.904-.927 1.309 0 1.91.942.605.937.605 2.837zm-1.284 2.217q.17-.396.23-.928.063-.537.063-1.29 0-.741-.064-1.288-.058-.547-.234-.928-.17-.376-.469-.566-.293-.19-.757-.19-.459 0-.761.19-.298.19-.474.576-.166.361-.23.942-.058.581-.058 1.275 0 .761.054 1.274.053.513.23.918.16.38.453.581.298.2.786.2.46 0 .762-.19.303-.19.469-.576zM899 12h2v16h-2zm-50 4h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m28-4h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m10 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1M899.78 36.985q0 1.075-.913 1.748-.908.67-2.47.67-.904 0-1.578-.157-.669-.161-1.255-.405v-1.743h.206q.58.464 1.298.713.723.249 1.387.249.171 0 .45-.03.278-.029.453-.097.215-.088.352-.22.142-.132.142-.39 0-.24-.206-.41-.2-.177-.59-.27-.41-.097-.87-.18-.454-.088-.854-.22-.918-.298-1.323-.806-.4-.512-.4-1.269 0-1.016.908-1.655.913-.645 2.343-.645.718 0 1.416.142.703.136 1.216.346v1.675h-.2q-.44-.351-1.08-.586-.634-.239-1.298-.239-.234 0-.469.034-.23.03-.444.117-.19.074-.327.225-.137.147-.137.337 0 .288.22.444.22.152.83.279l.767.16q.37.079.795.216.835.273 1.23.747.401.468.401 1.22zm6.548 2.285h-5.259V32h5.26v1.406h-3.394v1.255h3.149v1.406h-3.15v1.797h3.394zM974 14h2v12h-2zM970.422 39.27h-3.935v-.742H968v-4.873h-1.513v-.664q.307 0 .659-.049.352-.053.532-.151.225-.122.352-.308.132-.19.151-.507h.757v6.552h1.484zm6.724-2.31q0 .509-.186.973-.185.463-.507.78-.352.343-.84.528-.484.18-1.123.18-.596 0-1.148-.126-.551-.122-.932-.298v-1.03h.068q.4.254.938.434.537.176 1.054.176.347 0 .67-.098.326-.097.58-.341.215-.21.323-.503.112-.293.112-.679 0-.376-.132-.635-.127-.259-.356-.415-.254-.185-.62-.259-.362-.078-.811-.078-.43 0-.83.059-.396.059-.684.117V32h4.375v.854h-3.432v1.934q.21-.02.43-.03.219-.009.38-.009.591 0 1.035.103.445.097.816.351.39.269.605.693.215.425.215 1.065zm6.416-1.327q0 1.958-.615 2.876-.61.913-1.9.913-1.308 0-1.914-.928-.6-.928-.6-2.851 0-1.939.61-2.862.61-.927 1.904-.927 1.309 0 1.91.942.605.937.605 2.837zm-1.284 2.217q.17-.396.23-.928.063-.537.063-1.29 0-.741-.064-1.288-.058-.547-.234-.928-.17-.376-.469-.566-.293-.19-.757-.19-.459 0-.761.19-.298.19-.474.576-.166.361-.23.942-.058.581-.058 1.275 0 .761.054 1.274.053.513.23.918.16.38.453.581.298.2.786.2.46 0 .762-.19.303-.19.469-.576zM924 16h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m28-4h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m10 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m78-6h2v12h-2zm-50 2h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m28-4h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m10 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1M1045.422 39.27h-3.935v-.742H1043v-4.873h-1.513v-.664q.307 0 .659-.049.352-.053.532-.151.225-.122.352-.308.132-.19.151-.507h.757v6.552h1.484zm6.89-2.358q0 1.109-.732 1.812-.728.698-1.788.698-.537 0-.976-.166-.44-.166-.776-.493-.42-.406-.65-1.075-.225-.668-.225-1.61 0-.968.206-1.715.21-.747.664-1.328.43-.552 1.108-.86.679-.312 1.582-.312.288 0 .483.025.196.024.396.088v.932h-.049q-.137-.073-.415-.137-.273-.068-.562-.068-1.05 0-1.674.66-.625.654-.728 1.772.41-.25.806-.376.4-.132.923-.132.464 0 .815.088.356.083.728.342.43.297.644.752.22.454.22 1.103zm-.991.04q0-.455-.137-.753-.132-.298-.44-.517-.224-.157-.497-.205-.274-.05-.572-.05-.415 0-.771.098-.357.098-.733.303-.01.108-.015.21v.25q0 .77.157 1.22.16.444.44.703.224.215.482.317.264.098.572.098.708 0 1.113-.43.405-.434.405-1.245zm7.192.008q0 .509-.185.973-.186.463-.508.78-.352.343-.84.528-.483.18-1.123.18-.596 0-1.147-.126-.552-.122-.933-.298v-1.03h.068q.4.254.937.434.537.176 1.055.176.347 0 .669-.098.327-.097.581-.341.215-.21.322-.503.113-.293.113-.679 0-.376-.132-.635-.127-.259-.357-.415-.254-.185-.62-.259-.361-.078-.81-.078-.43 0-.83.059-.396.059-.684.117V32h4.375v.854h-3.433v1.934q.21-.02.43-.03.22-.009.381-.009.59 0 1.035.103.444.097.816.351.39.269.605.693.215.425.215 1.065zM1074 16h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m28-4h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m10 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1M1128.198 36.985q0 1.075-.913 1.748-.908.67-2.47.67-.904 0-1.578-.157-.669-.161-1.255-.405v-1.743h.206q.58.464 1.298.713.723.249 1.387.249.17 0 .45-.03.278-.029.453-.097.215-.088.352-.22.142-.132.142-.39 0-.24-.206-.41-.2-.177-.59-.27-.41-.097-.87-.18-.454-.088-.854-.22-.918-.298-1.323-.806-.4-.512-.4-1.269 0-1.016.908-1.655.913-.645 2.343-.645.718 0 1.416.142.704.136 1.216.346v1.675h-.2q-.44-.351-1.08-.586-.634-.239-1.298-.239-.234 0-.469.034-.23.03-.444.117-.19.074-.327.225-.137.147-.137.337 0 .288.22.444.22.152.83.279l.767.16q.37.079.795.216.835.273 1.23.747.401.468.401 1.22zM1123 11h4v18h-4zm76 3h2v12h-2zM1195.422 39.27h-3.935v-.742H1193v-4.873h-1.513v-.664q.307 0 .659-.049.352-.053.532-.151.225-.122.352-.308.132-.19.151-.507h.757v6.552h1.484zm6.773-4.072q0 .952-.22 1.729-.215.776-.654 1.323-.444.557-1.113.86-.67.302-1.573.302-.254 0-.478-.03-.225-.024-.4-.082v-.933h.048q.142.073.4.142.26.063.577.063 1.079 0 1.69-.644.614-.65.712-1.787-.454.273-.854.39-.4.117-.874.117-.45 0-.816-.087-.361-.088-.727-.342-.43-.298-.65-.757-.215-.46-.215-1.099 0-1.113.733-1.811.732-.698 1.787-.698.527 0 .977.166.449.16.786.488.415.405.64 1.045.224.634.224 1.645zm-.986-.21q0-.757-.157-1.216-.156-.459-.43-.712-.229-.22-.493-.313-.263-.098-.57-.098-.704 0-1.114.44-.405.44-.405 1.235 0 .464.131.757.132.293.445.513.22.151.483.205.264.049.586.049.38 0 .772-.103.39-.102.732-.298 0-.102.01-.2.01-.102.01-.259zm7.304 1.972q0 .509-.185.973-.186.463-.508.78-.352.343-.84.528-.483.18-1.123.18-.596 0-1.147-.126-.552-.122-.933-.298v-1.03h.068q.4.254.937.434.537.176 1.055.176.347 0 .669-.098.327-.097.581-.341.215-.21.322-.503.113-.293.113-.679 0-.376-.132-.635-.127-.259-.357-.415-.254-.185-.62-.259-.361-.078-.81-.078-.43 0-.83.059-.396.059-.684.117V32h4.375v.854h-3.433v1.934q.21-.02.43-.03.22-.009.381-.009.59 0 1.035.103.444.097.816.351.39.269.605.693.215.425.215 1.065zM1149 16h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m28-4h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m10 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m78-6h2v12h-2zm-50 2h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m28-4h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m10 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1M1270.837 39.27h-4.922v-1.02l1.026-.879q.517-.44.962-.874.937-.908 1.284-1.44.347-.537.347-1.158 0-.566-.376-.883-.371-.323-1.04-.323-.445 0-.962.157-.518.156-1.011.478h-.049v-1.025q.347-.171.923-.313.58-.141 1.123-.141 1.118 0 1.753.542.635.537.635 1.46 0 .415-.108.776-.102.356-.308.679-.19.302-.449.595-.254.293-.62.65-.522.512-1.079.996-.557.478-1.04.889h3.911zm5.953 0h-3.936v-.742h1.514v-4.873h-1.514v-.664q.308 0 .66-.049.35-.053.531-.151.225-.122.352-.308.132-.19.151-.507h.757v6.552h1.485zm6.772-3.637q0 1.958-.615 2.876-.61.913-1.9.913-1.308 0-1.914-.928-.6-.928-.6-2.851 0-1.939.61-2.862.61-.927 1.904-.927 1.309 0 1.91.942.605.937.605 2.837zm-1.284 2.217q.17-.396.23-.928.062-.537.062-1.29 0-.741-.063-1.288-.059-.547-.234-.928-.17-.376-.469-.566-.293-.19-.757-.19-.459 0-.761.19-.298.19-.474.576-.166.361-.23.942-.059.581-.059 1.275 0 .761.054 1.274t.23.918q.161.38.454.581.298.2.786.2.46 0 .762-.19.303-.19.469-.576zM1349 12h2v16h-2zm-50 4h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m28-4h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m10 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1M1347.554 36.985q0 1.075-.913 1.748-.909.67-2.471.67-.903 0-1.577-.157-.67-.161-1.255-.405v-1.743h.205q.581.464 1.299.713.722.249 1.386.249.171 0 .45-.03.278-.029.454-.097.215-.088.351-.22.142-.132.142-.39 0-.24-.205-.41-.2-.177-.59-.27-.411-.097-.87-.18-.454-.088-.855-.22-.917-.298-1.323-.806-.4-.512-.4-1.269 0-1.016.908-1.655.913-.645 2.344-.645.718 0 1.416.142.703.136 1.216.346v1.675h-.2q-.44-.351-1.08-.586-.634-.239-1.298-.239-.235 0-.47.034-.229.03-.444.117-.19.074-.327.225-.136.147-.136.337 0 .288.22.444.219.152.83.279l.766.16q.371.079.796.216.835.273 1.23.747.4.468.4 1.22zM1358.877 32l-1.958 7.27h-2.075l-1.304-4.736-1.27 4.737h-2.075L1348.237 32h1.958l1.119 5.005L1352.65 32h1.87l1.275 5.005 1.172-5.005zM1424 14h2v12h-2zM1420.837 39.27h-4.922v-1.02l1.026-.879q.517-.44.962-.874.937-.908 1.284-1.44.347-.537.347-1.158 0-.566-.376-.883-.371-.323-1.04-.323-.445 0-.962.157-.518.156-1.011.478h-.049v-1.025q.347-.171.923-.313.58-.141 1.123-.141 1.118 0 1.753.542.635.537.635 1.46 0 .415-.108.776-.102.356-.308.679-.19.302-.449.595-.254.293-.62.65-.522.512-1.079.996-.557.478-1.04.889h3.911zm6.533-2.045h-1.078v2.046h-.938v-2.046h-3.481v-1.123l3.52-4.102h.898v4.443h1.08zm-2.016-.782v-3.28l-2.817 3.28zm8.208-.81q0 1.958-.615 2.876-.61.913-1.9.913-1.308 0-1.914-.928-.6-.928-.6-2.851 0-1.939.61-2.862.61-.927 1.904-.927 1.309 0 1.91.942.605.937.605 2.837zm-1.284 2.217q.17-.396.23-.928.062-.537.062-1.29 0-.741-.063-1.288-.059-.547-.234-.928-.17-.376-.469-.566-.293-.19-.757-.19-.459 0-.761.19-.298.19-.474.576-.166.361-.23.942-.059.581-.059 1.275 0 .761.054 1.274t.23.918q.161.38.454.581.298.2.786.2.46 0 .762-.19.303-.19.469-.576zM1374 16h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m28-4h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m10 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m78-6h2v12h-2zm-50 2h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m28-4h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m10 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1M1495.837 39.27h-4.922v-1.02l1.026-.879q.517-.44.962-.874.937-.908 1.284-1.44.347-.537.347-1.158 0-.566-.376-.883-.371-.323-1.04-.323-.445 0-.962.157-.518.156-1.011.478h-.049v-1.025q.347-.171.923-.313.58-.141 1.123-.141 1.118 0 1.753.542.635.537.635 1.46 0 .415-.108.776-.102.356-.308.679-.19.302-.449.595-.254.293-.62.65-.522.512-1.079.996-.557.478-1.04.889h3.911zm6.309-2.31q0 .509-.186.973-.185.463-.507.78-.352.343-.84.528-.484.18-1.123.18-.596 0-1.148-.126-.552-.122-.932-.298v-1.03h.068q.4.254.937.434.537.176 1.055.176.347 0 .669-.098.327-.097.58-.341.216-.21.323-.503.112-.293.112-.679 0-.376-.131-.635-.127-.259-.357-.415-.254-.185-.62-.259-.361-.078-.81-.078-.43 0-.83.059-.396.059-.684.117V32h4.375v.854h-3.433v1.934q.21-.02.43-.03.22-.009.38-.009.592 0 1.036.103.444.097.815.351.391.269.606.693.215.425.215 1.065zm6.367 0q0 .509-.185.973-.186.463-.508.78-.352.343-.84.528-.483.18-1.123.18-.596 0-1.147-.126-.552-.122-.933-.298v-1.03h.068q.4.254.937.434.537.176 1.055.176.347 0 .669-.098.327-.097.581-.341.215-.21.322-.503.113-.293.113-.679 0-.376-.132-.635-.127-.259-.357-.415-.254-.185-.62-.259-.361-.078-.81-.078-.43 0-.83.059-.396.059-.684.117V32h4.375v.854h-3.433v1.934q.21-.02.43-.03.22-.009.381-.009.59 0 1.035.103.444.097.816.351.39.269.605.693.215.425.215 1.065zM1524 16h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m28-4h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m10 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1M1580.322 32l-1.958 7.27h-2.075l-1.304-4.736-1.27 4.737h-2.074L1569.683 32h1.958l1.118 5.005 1.338-5.005h1.87l1.274 5.005 1.172-5.005zM1573 11h4v18h-4zm76 3h2v12h-2zM1645.837 39.27h-4.922v-1.02l1.026-.879q.517-.44.962-.874.937-.908 1.284-1.44.347-.537.347-1.158 0-.566-.376-.883-.371-.323-1.04-.323-.445 0-.962.157-.518.156-1.011.478h-.049v-1.025q.347-.171.923-.313.58-.141 1.123-.141 1.118 0 1.753.542.635.537.635 1.46 0 .415-.108.776-.102.356-.308.679-.19.302-.449.595-.254.293-.62.65-.522.512-1.079.996-.557.478-1.04.889h3.911zm6.421-2.026q0 .943-.737 1.568-.732.625-1.846.625-1.181 0-1.885-.61-.698-.611-.698-1.563 0-.606.352-1.094.351-.493.991-.781v-.03q-.586-.312-.87-.683-.277-.371-.277-.928 0-.82.673-1.367.674-.547 1.714-.547 1.09 0 1.739.522.649.523.649 1.329 0 .493-.308.971-.307.474-.903.742v.03q.684.293 1.045.722.361.43.361 1.094zm-1.157-3.55q0-.522-.405-.83-.4-.312-1.026-.312-.615 0-1.01.293-.391.293-.391.79 0 .352.195.611.2.254.6.454.182.088.519.23.341.141.664.234.483-.322.668-.669.186-.347.186-.8zm.151 3.643q0-.45-.2-.718-.195-.273-.771-.547-.23-.107-.503-.2-.274-.093-.728-.259-.44.24-.708.65-.263.41-.263.927 0 .66.454 1.09.454.429 1.152.429.713 0 1.138-.366.43-.366.43-1.006zm7.261-.377q0 .509-.185.973-.186.463-.508.78-.352.343-.84.528-.483.18-1.123.18-.596 0-1.147-.126-.552-.122-.933-.298v-1.03h.068q.4.254.937.434.537.176 1.055.176.347 0 .669-.098.327-.097.581-.341.215-.21.322-.503.113-.293.113-.679 0-.376-.132-.635-.127-.259-.357-.415-.254-.185-.62-.259-.361-.078-.81-.078-.43 0-.83.059-.396.059-.684.117V32h4.375v.854h-3.433v1.934q.21-.02.43-.03.22-.009.381-.009.59 0 1.035.103.444.097.816.351.39.269.605.693.215.425.215 1.065zM1599 16h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m28-4h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m10 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m78-6h2v12h-2zm-50 2h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m28-4h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m10 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1M1720.198 35.77q.234.21.385.527.152.317.152.82 0 .498-.18.913-.182.415-.509.723-.366.342-.864.508-.493.16-1.084.16-.605 0-1.191-.146-.586-.141-.962-.312v-1.02h.073q.415.273.976.453.562.181 1.084.181.308 0 .655-.102.346-.103.561-.303.225-.215.332-.474.113-.259.113-.654 0-.39-.127-.645-.123-.258-.342-.405-.22-.151-.532-.205-.313-.059-.674-.059h-.44v-.81h.342q.742 0 1.182-.308.444-.312.444-.908 0-.264-.112-.459-.113-.2-.313-.327-.21-.127-.449-.176-.24-.049-.542-.049-.464 0-.986.166-.523.166-.987.47h-.049v-1.021q.347-.171.923-.313.581-.146 1.123-.146.532 0 .938.097.405.098.732.313.352.234.532.566.181.332.181.777 0 .605-.43 1.06-.424.448-1.006.566v.068q.235.039.538.166.302.122.512.308zm6.997-.137q0 1.958-.615 2.876-.61.913-1.9.913-1.308 0-1.914-.928-.6-.928-.6-2.851 0-1.939.61-2.862.61-.927 1.904-.927 1.309 0 1.91.942.605.937.605 2.837zm-1.284 2.217q.17-.396.23-.928.062-.537.062-1.29 0-.741-.063-1.288-.059-.547-.234-.928-.171-.376-.469-.566-.293-.19-.757-.19-.459 0-.762.19-.297.19-.473.576-.166.361-.23.942-.059.581-.059 1.275 0 .761.054 1.274t.23.918q.161.38.454.581.298.2.786.2.46 0 .762-.19t.468-.576zm7.651-2.217q0 1.958-.615 2.876-.61.913-1.9.913-1.308 0-1.914-.928-.6-.928-.6-2.851 0-1.939.61-2.862.61-.927 1.904-.927 1.309 0 1.91.942.605.937.605 2.837zm-1.284 2.217q.17-.396.23-.928.062-.537.062-1.29 0-.741-.063-1.288-.059-.547-.234-.928-.17-.376-.469-.566-.293-.19-.757-.19-.459 0-.761.19-.298.19-.474.576-.166.361-.23.942-.059.581-.059 1.275 0 .761.054 1.274t.23.918q.161.38.454.581.298.2.786.2.46 0 .762-.19.303-.19.469-.576zM1799 12h2v16h-2zm-50 4h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m28-4h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m10 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1M1797.554 36.985q0 1.075-.913 1.748-.909.67-2.471.67-.903 0-1.577-.157-.67-.161-1.255-.405v-1.743h.205q.581.464 1.299.713.722.249 1.386.249.171 0 .45-.03.278-.029.454-.097.215-.088.351-.22.142-.132.142-.39 0-.24-.205-.41-.2-.177-.59-.27-.411-.097-.87-.18-.454-.088-.855-.22-.917-.298-1.323-.806-.4-.512-.4-1.269 0-1.016.908-1.655.913-.645 2.344-.645.718 0 1.416.142.703.136 1.216.346v1.675h-.2q-.44-.351-1.08-.586-.634-.239-1.298-.239-.235 0-.47.034-.229.03-.444.117-.19.074-.327.225-.136.147-.136.337 0 .288.22.444.219.152.83.279l.766.16q.371.079.796.216.835.273 1.23.747.4.468.4 1.22zM1808.877 32l-1.958 7.27h-2.075l-1.304-4.736-1.27 4.737h-2.075L1798.237 32h1.958l1.119 5.005L1802.65 32h1.87l1.275 5.005 1.172-5.005zM1874 14h2v12h-2zM1870.198 35.77q.234.21.385.527.152.317.152.82 0 .498-.18.913-.182.415-.509.723-.366.342-.864.508-.493.16-1.084.16-.605 0-1.191-.146-.586-.141-.962-.312v-1.02h.073q.415.273.976.453.562.181 1.084.181.308 0 .655-.102.346-.103.561-.303.225-.215.332-.474.113-.259.113-.654 0-.39-.127-.645-.123-.258-.342-.405-.22-.151-.532-.205-.313-.059-.674-.059h-.44v-.81h.342q.742 0 1.182-.308.444-.312.444-.908 0-.264-.112-.459-.113-.2-.313-.327-.21-.127-.449-.176-.24-.049-.542-.049-.464 0-.986.166-.523.166-.987.47h-.049v-1.021q.347-.171.923-.313.581-.146 1.123-.146.532 0 .938.097.405.098.732.313.352.234.532.566.181.332.181.777 0 .605-.43 1.06-.424.448-1.006.566v.068q.235.039.538.166.302.122.512.308zm6.367 0q.234.21.386.527.151.317.151.82 0 .498-.18.913-.181.415-.508.723-.367.342-.865.508-.493.16-1.084.16-.605 0-1.191-.146-.586-.141-.962-.312v-1.02h.073q.415.273.977.453.561.181 1.084.181.307 0 .654-.102.347-.103.561-.303.225-.215.332-.474.113-.259.113-.654 0-.39-.127-.645-.122-.258-.342-.405-.22-.151-.532-.205-.313-.059-.674-.059h-.44v-.81h.342q.742 0 1.182-.308.444-.312.444-.908 0-.264-.112-.459-.112-.2-.313-.327-.21-.127-.449-.176-.24-.049-.542-.049-.464 0-.986.166-.523.166-.986.47h-.05v-1.021q.347-.171.923-.313.581-.146 1.123-.146.533 0 .938.097.405.098.732.313.352.234.533.566.18.332.18.777 0 .605-.43 1.06-.424.448-1.005.566v.068q.234.039.537.166.303.122.512.308zm6.997-.137q0 1.958-.615 2.876-.61.913-1.9.913-1.308 0-1.914-.928-.6-.928-.6-2.851 0-1.939.61-2.862.61-.927 1.904-.927 1.309 0 1.91.942.605.937.605 2.837zm-1.284 2.217q.17-.396.23-.928.062-.537.062-1.29 0-.741-.063-1.288-.059-.547-.234-.928-.17-.376-.469-.566-.293-.19-.757-.19-.459 0-.761.19-.298.19-.474.576-.166.361-.23.942-.059.581-.059 1.275 0 .761.054 1.274t.23.918q.161.38.454.581.298.2.786.2.46 0 .762-.19.303-.19.469-.576zM1824 16h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m28-4h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m10 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m78-6h2v12h-2zm-50 2h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m28-4h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m10 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1M1945.198 35.77q.234.21.385.527.152.317.152.82 0 .498-.18.913-.182.415-.509.723-.366.342-.864.508-.493.16-1.084.16-.605 0-1.191-.146-.586-.141-.962-.312v-1.02h.073q.415.273.976.453.562.181 1.084.181.308 0 .655-.102.346-.103.561-.303.225-.215.332-.474.113-.259.113-.654 0-.39-.127-.645-.123-.258-.342-.405-.22-.151-.532-.205-.313-.059-.674-.059h-.44v-.81h.342q.742 0 1.182-.308.444-.312.444-.908 0-.264-.112-.459-.113-.2-.313-.327-.21-.127-.449-.176-.24-.049-.542-.049-.464 0-.986.166-.523.166-.987.47h-.049v-1.021q.347-.171.923-.313.581-.146 1.123-.146.532 0 .938.097.405.098.732.313.352.234.532.566.181.332.181.777 0 .605-.43 1.06-.424.448-1.006.566v.068q.235.039.538.166.302.122.512.308zm7.172 1.455h-1.078v2.046h-.938v-2.046h-3.481v-1.123l3.52-4.102h.898v4.443h1.08zm-2.016-.782v-3.28l-2.817 3.28zm8.159.517q0 .509-.185.973-.186.463-.508.78-.352.343-.84.528-.483.18-1.123.18-.596 0-1.147-.126-.552-.122-.933-.298v-1.03h.068q.4.254.937.434.537.176 1.055.176.347 0 .669-.098.327-.097.581-.341.215-.21.322-.503.113-.293.113-.679 0-.376-.132-.635-.127-.259-.357-.415-.254-.185-.62-.259-.361-.078-.81-.078-.43 0-.83.059-.396.059-.684.117V32h4.375v.854h-3.433v1.934q.21-.02.43-.03.22-.009.381-.009.59 0 1.035.103.444.097.816.351.39.269.605.693.215.425.215 1.065zM1974 16h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m28-4h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m10 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1M2028.306 39.27h-1.807l-3.086-4.99v4.99h-1.719V32h2.241l2.652 4.165V32h1.719zM2023 11h4v18h-4zM-1 12h2v16h-2zm-3 8a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1M-2.446 36.985q0 1.075-.913 1.748-.909.67-2.471.67-.903 0-1.577-.157-.67-.161-1.255-.405v-1.743h.205q.581.464 1.299.713.722.249 1.387.249.17 0 .449-.03.278-.029.454-.097.215-.088.351-.22.142-.132.142-.39 0-.24-.205-.41-.2-.177-.59-.27-.411-.097-.87-.18-.454-.088-.855-.22-.918-.298-1.323-.806-.4-.512-.4-1.269 0-1.016.908-1.655.913-.645 2.344-.645.718 0 1.416.142.703.136 1.216.346v1.675h-.2q-.44-.351-1.08-.586-.634-.239-1.298-.239-.235 0-.47.034-.229.03-.444.117-.19.074-.327.225-.136.147-.136.337 0 .288.22.444.219.152.83.279l.766.16q.371.079.796.216.835.273 1.23.747.4.468.4 1.22zM8.877 32l-1.958 7.27H4.844L3.54 34.535l-1.27 4.737H.196L-1.763 32H.195l1.118 5.005L2.651 32h1.87l1.275 5.005L6.968 32zM74 14h2v12h-2zM70.198 35.77q.234.21.385.527.152.317.152.82 0 .498-.18.913-.181.415-.509.723-.366.342-.864.508-.493.16-1.084.16-.605 0-1.191-.146-.586-.141-.962-.312v-1.02h.073q.415.273.977.453.561.181 1.084.181.307 0 .654-.102.347-.103.561-.303.225-.215.332-.474.113-.259.113-.654 0-.39-.127-.645-.122-.258-.342-.405-.22-.151-.532-.205-.313-.059-.674-.059h-.44v-.81h.342q.742 0 1.182-.308.444-.312.444-.908 0-.264-.112-.459-.112-.2-.313-.327-.21-.127-.449-.176-.239-.049-.542-.049-.464 0-.986.166-.523.166-.986.47h-.05v-1.021q.347-.171.924-.313.58-.146 1.123-.146.532 0 .937.097.405.098.733.313.351.234.532.566.18.332.18.777 0 .605-.43 1.06-.424.448-1.005.566v.068q.234.039.537.166.303.122.513.308zm6.367 0q.234.21.386.527.151.317.151.82 0 .498-.18.913-.181.415-.508.723-.367.342-.865.508-.493.16-1.084.16-.605 0-1.191-.146-.586-.141-.962-.312v-1.02h.073q.415.273.977.453.561.181 1.084.181.307 0 .654-.102.347-.103.562-.303.224-.215.332-.474.112-.259.112-.654 0-.39-.127-.645-.122-.258-.342-.405-.22-.151-.532-.205-.313-.059-.674-.059h-.44v-.81h.342q.743 0 1.182-.308.444-.312.444-.908 0-.264-.112-.459-.112-.2-.312-.327-.21-.127-.45-.176-.239-.049-.542-.049-.463 0-.986.166-.522.166-.986.47h-.049v-1.021q.347-.171.923-.313.58-.146 1.123-.146.532 0 .937.097.406.098.733.313.351.234.532.566.18.332.18.777 0 .605-.429 1.06-.425.448-1.006.566v.068q.235.039.537.166.303.122.513.308zm6.997-.137q0 1.958-.615 2.876-.61.913-1.9.913-1.308 0-1.914-.928-.6-.928-.6-2.851 0-1.939.61-2.862.61-.927 1.904-.927 1.309 0 1.91.942.605.937.605 2.837zm-1.284 2.217q.17-.396.23-.928.063-.537.063-1.29 0-.741-.064-1.288-.058-.547-.234-.928-.17-.376-.469-.566-.293-.19-.757-.19-.459 0-.761.19-.298.19-.474.576-.166.361-.23.942-.058.581-.058 1.275 0 .761.054 1.274.053.513.23.918.16.38.453.581.298.2.786.2.46 0 .762-.19.303-.19.469-.576zM24 16h2v8h-2zM6 20a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m28-4h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m10 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m78-6h2v12h-2zm-50 2h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m28-4h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m10 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1M145.198 35.77q.234.21.386.527.15.317.15.82 0 .498-.18.913-.18.415-.508.723-.366.342-.864.508-.493.16-1.084.16-.605 0-1.191-.146-.586-.141-.962-.312v-1.02h.073q.415.273.977.453.561.181 1.084.181.307 0 .654-.102.347-.103.561-.303.225-.215.333-.474.112-.259.112-.654 0-.39-.127-.645-.122-.258-.342-.405-.22-.151-.532-.205-.313-.059-.674-.059h-.44v-.81h.342q.743 0 1.182-.308.444-.312.444-.908 0-.264-.112-.459-.112-.2-.312-.327-.21-.127-.45-.176-.239-.049-.542-.049-.464 0-.986.166t-.986.47h-.05v-1.021q.348-.171.924-.313.58-.146 1.123-.146.532 0 .937.097.406.098.733.313.351.234.532.566.18.332.18.777 0 .605-.43 1.06-.424.448-1.005.566v.068q.234.039.537.166.303.122.513.308zm7.172 1.455h-1.079v2.046h-.937v-2.046h-3.481v-1.123l3.52-4.102h.898v4.443h1.08zm-2.016-.782v-3.28l-2.817 3.28zm8.159.517q0 .509-.185.973-.186.463-.508.78-.352.343-.84.528-.483.18-1.123.18-.596 0-1.148-.126-.551-.122-.932-.298v-1.03h.068q.4.254.938.434.537.176 1.054.176.347 0 .67-.098.327-.097.58-.341.215-.21.323-.503.112-.293.112-.679 0-.376-.132-.635-.127-.259-.356-.415-.254-.185-.62-.259-.362-.078-.81-.078-.43 0-.831.059-.396.059-.684.117V32h4.375v.854h-3.432v1.934q.21-.02.43-.03.22-.009.38-.009.591 0 1.035.103.445.097.816.351.39.269.605.693.215.425.215 1.065zM174 16h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m28-4h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m10 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m1878-6h2v12h-2zM2098.606 39.27h-3.936v-.742h1.514v-4.873h-1.514v-.664q.308 0 .66-.049.351-.053.532-.151.224-.122.351-.308.132-.19.152-.507h.757v6.552h1.484zm6.724-2.31q0 .509-.186.973-.185.463-.508.78-.351.343-.84.528-.483.18-1.123.18-.595 0-1.147-.126-.552-.122-.933-.298v-1.03h.068q.4.254.938.434.537.176 1.055.176.346 0 .669-.098.327-.097.58-.341.215-.21.323-.503.112-.293.112-.679 0-.376-.132-.635-.127-.259-.356-.415-.254-.185-.62-.259-.362-.078-.81-.078-.43 0-.83.059-.396.059-.684.117V32h4.375v.854h-3.433v1.934q.21-.02.43-.03.22-.009.38-.009.591 0 1.036.103.444.097.815.351.39.269.605.693.215.425.215 1.065zM2049 16h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m28-4h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m10 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m78-6h2v12h-2zm-50 2h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m28-4h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m10 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1M2173.381 35.77q.235.21.386.527.152.317.152.82 0 .498-.181.913-.18.415-.508.723-.366.342-.864.508-.493.16-1.084.16-.606 0-1.192-.146-.586-.141-.962-.312v-1.02h.073q.415.273.977.453.561.181 1.084.181.308 0 .654-.102.347-.103.562-.303.224-.215.332-.474.112-.259.112-.654 0-.39-.127-.645-.122-.258-.342-.405-.22-.151-.532-.205-.312-.059-.674-.059h-.44v-.81h.343q.742 0 1.181-.308.445-.312.445-.908 0-.264-.113-.459-.112-.2-.312-.327-.21-.127-.45-.176-.239-.049-.541-.049-.464 0-.987.166-.522.166-.986.47h-.05v-1.021q.348-.171.924-.313.58-.146 1.123-.146.532 0 .937.097.406.098.733.313.351.234.532.566.18.332.18.777 0 .605-.43 1.06-.424.448-1.005.566v.068q.234.039.537.166.303.122.513.308zm6.997-.137q0 1.958-.615 2.876-.61.913-1.9.913-1.308 0-1.913-.928-.6-.928-.6-2.851 0-1.939.61-2.862.61-.927 1.904-.927 1.308 0 1.909.942.605.937.605 2.837zm-1.284 2.217q.171-.396.23-.928.064-.537.064-1.29 0-.741-.064-1.288-.06-.547-.235-.928-.17-.376-.468-.566-.293-.19-.757-.19-.46 0-.762.19-.298.19-.474.576-.166.361-.23.942-.058.581-.058 1.275 0 .761.054 1.274t.23.918q.16.38.453.581.298.2.787.2.459 0 .761-.19.303-.19.47-.576zM2249 12h2v16h-2zm-50 4h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m28-4h2v8h-2zm-18 4a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m10 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1M2249.888 39.27h-1.807l-3.086-4.99v4.99h-1.719V32h2.242l2.65 4.165V32h1.72zm7.124 0h-5.26V32h5.26v1.406h-3.394v1.255h3.15v1.406h-3.15v1.797h3.394zM2256 20a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1m5 0a1 1 0 01-1 1 1 1 0 01-1-1 1 1 0 011-1 1 1 0 011 1"
                />
            </clipPath>
        </defs>
        <!-- objective markers -->
        <g
            v-for="(objective, idx) in objectives"
            :key="`objective-${idx}`"
        >
            <path
                :fill="objective.color"
                :d="`M${225+(wrapClamp(objective.heading-clampedTweenedCompassRotation,-90,270)*5)} 0 h-4 l 4 14 l 4 -14 z`"
            />
            <text
                :x="225+(wrapClamp(objective.heading-clampedTweenedCompassRotation,-90,270)*5)"
                y="10"
                font-family="Verdana"
                font-size="10"
                font-weight="400"
                text-anchor="middle"
                fill="white"
                opacity="0.5"
            >
                {{ objective.text }}
            </text>
        </g>
        <!-- compass needle -->
        <g :fill="needle">
            <path d="M225 40 h-4 l 4 -14 l 4 14 z" />
        </g>
        <!-- heading text -->
        <text
            x="225"
            y="10"
            font-family="Verdana"
            font-size="10"
            font-weight="400"
            text-anchor="middle"
            :fill="color"
        >
            {{ Math.floor(clampedTweenedCompassRotation) }}&deg;
        </text>
        <!-- compass graticle -->
        <rect width="100%" height="100%" fill="url(#a)" clip-path="url(#b)" />
    </svg>
</template>

<script>
import gsap from 'gsap'; // provides tweening functions

import MathUtils from '@/assets/js/utils/math-utils.js';
import { $tWorldInterface, $isInOuterra } from '@/assets/js/titan/titan-utils.js';

const DEFAULT_UPDATE_INTERVAL_MS = 125; // update every 125ms (8x per second)
const MIN_UPDATE_INTERVAL = 100; // at most update 10x per second

export default {
    name: 'linear-compass2',
    props:
    {
        color:
        {
            type: String,
            default: '#FFF',
        },
        needle:
        {
            type: String,
            default: '#F00',
        },
        size:
        {
            type: Number,
            default: 500,
        },
        x:
        {
            type: [Number, String],
            default: 'center',
        },
        y:
        {
            type: [Number, String],
            default: 'top',
        },
        ignoreTaskbar:
        {
            type: Boolean,
            default: false,
        },
        updateInterval:{
            type: Number,
            default: DEFAULT_UPDATE_INTERVAL_MS,
        },
        objectives:{
            type: Array,
            default: () => [
                {
                    color:'#080',
                    heading:15,
                    text:'Alpha'
                },
                {
                    color:'#F80',
                    heading:340,
                    text:'Bravo'
                },
            ],
        }
    },
    data()
    {
        return {
            magneticHeading: 0, // between -180.0 and 180.0
            compassRotation: 0.0,
            tweenedCompassRotation: 0.0,
            updateIntervalMs: DEFAULT_UPDATE_INTERVAL_MS,
            updateIntervalSeconds: (DEFAULT_UPDATE_INTERVAL_MS/1000.0),
            updateTimer: null,
            running: false,
        };
    },
    computed:
    {
        clampedTweenedCompassRotation() { return MathUtils.wrapClamp(this.tweenedCompassRotation, 0.0, 360.0); },
        desktopBounds() { return this.ignoreTaskbar ? this.$store.getters.screenBounds : this.$store.getters.desktopBounds; },
    },
    watch:
    {
        desktopBounds: function() { this.$nextTick(this.updatePosition); },
        size: function() { this.$nextTick(this.updatePosition); },
        x: function() { this.$nextTick(this.updatePosition); },
        y: function() { this.$nextTick(this.updatePosition); },
        updateInterval() { this.updateAllRates(); },
        magneticHeading(newHeading, oldHeading)
        {
            // this is simply to ensure that the compass needle rotates via the "shortest angular
            // distance" so that when the needle goes from, say 359Â° to 1Â°, it spins clockwise
            // through 360Â°, rather than counter-clockwise through 180Â°
            const delta = MathUtils.shortestAngleDeg(oldHeading, newHeading);
            this.compassRotation += delta;
            // ease the compass heading value to provide the illusion of continuous updates
            this.easeValue({tweenedCompassRotation: this.compassRotation});
        },
    },
    mounted()
    {
        this.updatePosition();
        // start the update cycle
        this.running = true;
        this.updateHeading();
    },
    beforeDestroy()
    {
        this.stopUpdates();
    },
    methods:
    {
        updatePosition()
        {
            const container = this.$refs.container;
            const containerBounds = container.getBoundingClientRect();

            container.style.position = 'absolute';

            if(typeof this.x === 'number')
            {
                let x = this.x;
                if( x < 0)
                    x += this.desktopBounds.right - containerBounds.width;
                container.style.left = MathUtils.clamp(x, this.desktopBounds.left, this.desktopBounds.right-containerBounds.width) + 'px';
            }
            else
            {
                if(this.x === 'left')
                    container.style.left = this.desktopBounds.left + 'px';
                else if(this.x === 'right')
                    container.style.left = (this.desktopBounds.right - containerBounds.width) + 'px';
                else // center
                    container.style.left = (this.desktopBounds.left + ((this.desktopBounds.w - containerBounds.width)/2)) + 'px';
            }

            if(typeof this.y === 'number')
            {
                let y = this.y;
                if( y < 0)
                    y += this.desktopBounds.bottom - containerBounds.height;
                container.style.top = MathUtils.clamp(y, this.desktopBounds.top, this.desktopBounds.bottom-containerBounds.height) + 'px';
            }
            else
            {
                if(this.y === 'top')
                    container.style.top = this.desktopBounds.top + 'px';
                else if(this.y === 'bottom')
                    container.style.top = (this.desktopBounds.bottom - containerBounds.height) + 'px';
                else // center
                    container.style.top = (this.desktopBounds.top + ((this.desktopBounds.h - containerBounds.height)/2)) + 'px';
            }
        },
        updateHeading()
        {
            if(!this.running)
                return;

            if($isInOuterra)
            {
                const scenarioCamera = $tWorldInterface.getActiveScenario().getActiveCamera();
                if(scenarioCamera)
                    this.magneticHeading = scenarioCamera.getMagNorthHeading(0); // between -180.0 and 180.0
            }
            else
            {
                this.magneticHeading = 340; // MathUtils.wrapClamp(this.magneticHeading + (Math.random() * 10.0) -5, -180.0, 180.0);
            }

            this.updateTimer = setTimeout(this.updateHeading, Math.max(MIN_UPDATE_INTERVAL, this.updateIntervalMs));
        },
        updateAllRates()
        {
            this.updateIntervalMs = Math.max(MIN_UPDATE_INTERVAL, this.updateInterval);
            this.updateIntervalSeconds = this.updateIntervalMs/1000.0;
        },
        stopUpdates()
        {
            this.running = false;
            if(this.updateTimer !== null)
            {
                clearTimeout(this.updateTimer);
                this.updateTimer = null;
            }
        },
        easeValue(params)
        {
            gsap.to(this.$data, { duration: this.updateIntervalSeconds, ease: 'none', ...params });
        },
        wrapClamp: MathUtils.wrapClamp,
    }
};
</script>
